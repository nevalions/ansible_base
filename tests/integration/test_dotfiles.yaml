---
- name: Test dotfiles role - localhost
  hosts: localhost
  connection: local
  gather_facts: true
  become: true
  vars:
    test_mode: true
  tasks:
    - name: Test dotfiles role import
      ansible.builtin.include_role:
        name: dotfiles
      tags: role_test

    - name: Assert dotfiles role tasks completed
      ansible.builtin.assert:
        that: true
        success_msg: "Dotfiles role tasks executed successfully"
